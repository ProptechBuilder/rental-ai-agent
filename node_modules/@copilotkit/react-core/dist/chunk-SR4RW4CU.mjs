import {
  CopilotContext
} from "./chunk-DY63PD22.mjs";

// src/hooks/use-make-copilot-actionable.ts
import { useRef, useContext, useEffect, useMemo } from "react";
import { nanoid } from "nanoid";
import { annotatedFunctionToAction } from "@copilotkit/shared";
function useMakeCopilotActionable(annotatedFunction, dependencies) {
  const idRef = useRef(nanoid());
  const { setEntryPoint, removeEntryPoint } = useContext(CopilotContext);
  const memoizedAnnotatedFunction = useMemo(
    () => ({
      name: annotatedFunction.name,
      description: annotatedFunction.description,
      argumentAnnotations: annotatedFunction.argumentAnnotations,
      implementation: annotatedFunction.implementation
    }),
    dependencies
  );
  useEffect(() => {
    const action = annotatedFunctionToAction(memoizedAnnotatedFunction);
    setEntryPoint(idRef.current, action);
    return () => {
      removeEntryPoint(idRef.current);
    };
  }, [memoizedAnnotatedFunction, setEntryPoint, removeEntryPoint]);
}

export {
  useMakeCopilotActionable
};
//# sourceMappingURL=chunk-SR4RW4CU.mjs.map